function cov_11tql6jwb(){var path="/home/iamwash/Desktop/Promises/src/request.js";var hash="6e349f86764e0c277a43dc436d3fae4592797d26";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/iamwash/Desktop/Promises/src/request.js",statementMap:{"0":{start:{line:1,column:14},end:{line:1,column:30}},"1":{start:{line:6,column:16},end:{line:6,column:96}},"2":{start:{line:6,column:40},end:{line:6,column:96}},"3":{start:{line:6,column:46},end:{line:6,column:96}},"4":{start:{line:9,column:2},end:{line:11,column:4}},"5":{start:{line:10,column:3},end:{line:10,column:54}},"6":{start:{line:15,column:2},end:{line:24,column:4}},"7":{start:{line:17,column:3},end:{line:23,column:25}},"8":{start:{line:18,column:18},end:{line:18,column:20}},"9":{start:{line:19,column:4},end:{line:21,column:58}},"10":{start:{line:20,column:25},end:{line:20,column:41}},"11":{start:{line:21,column:22},end:{line:21,column:57}},"12":{start:{line:28,column:2},end:{line:31,column:4}},"13":{start:{line:36,column:0},end:{line:36,column:24}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:6,column:16},end:{line:6,column:17}},loc:{start:{line:6,column:40},end:{line:6,column:96}},line:6},"1":{name:"(anonymous_1)",decl:{start:{line:6,column:40},end:{line:6,column:41}},loc:{start:{line:6,column:46},end:{line:6,column:96}},line:6},"2":{name:"(anonymous_2)",decl:{start:{line:8,column:1},end:{line:8,column:2}},loc:{start:{line:8,column:32},end:{line:12,column:2}},line:8},"3":{name:"(anonymous_3)",decl:{start:{line:9,column:21},end:{line:9,column:22}},loc:{start:{line:9,column:42},end:{line:11,column:3}},line:9},"4":{name:"(anonymous_4)",decl:{start:{line:14,column:1},end:{line:14,column:2}},loc:{start:{line:14,column:16},end:{line:25,column:2}},line:14},"5":{name:"(anonymous_5)",decl:{start:{line:15,column:21},end:{line:15,column:22}},loc:{start:{line:15,column:42},end:{line:24,column:3}},line:15},"6":{name:"(anonymous_6)",decl:{start:{line:17,column:18},end:{line:17,column:19}},loc:{start:{line:17,column:25},end:{line:22,column:4}},line:17},"7":{name:"(anonymous_7)",decl:{start:{line:20,column:17},end:{line:20,column:18}},loc:{start:{line:20,column:25},end:{line:20,column:41}},line:20},"8":{name:"(anonymous_8)",decl:{start:{line:21,column:16},end:{line:21,column:17}},loc:{start:{line:21,column:22},end:{line:21,column:57}},line:21},"9":{name:"(anonymous_9)",decl:{start:{line:27,column:1},end:{line:27,column:2}},loc:{start:{line:27,column:45},end:{line:32,column:2}},line:27}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6e349f86764e0c277a43dc436d3fae4592797d26"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_11tql6jwb=function(){return actualCoverage;};}return actualCoverage;}cov_11tql6jwb();const https=(cov_11tql6jwb().s[0]++,require('https'));class Request{errorTimeout=(cov_11tql6jwb().s[1]++,(reject,urlRequest)=>{cov_11tql6jwb().f[0]++;cov_11tql6jwb().s[2]++;return()=>{cov_11tql6jwb().f[1]++;cov_11tql6jwb().s[3]++;return reject(new Error(`timeout at [${urlRequest}] :(`));};});raceTimeoutDelay(url,timeout){cov_11tql6jwb().f[2]++;cov_11tql6jwb().s[4]++;return new Promise((resolve,reject)=>{cov_11tql6jwb().f[3]++;cov_11tql6jwb().s[5]++;setTimeout(this.errorTimeout(reject,url),timeout);});}async get(url){cov_11tql6jwb().f[4]++;cov_11tql6jwb().s[6]++;return new Promise((resolve,reject)=>{cov_11tql6jwb().f[5]++;cov_11tql6jwb().s[7]++;https.get(url,res=>{cov_11tql6jwb().f[6]++;const items=(cov_11tql6jwb().s[8]++,[]);cov_11tql6jwb().s[9]++;res.on('data',data=>{cov_11tql6jwb().f[7]++;cov_11tql6jwb().s[10]++;return items.push(data);}).on('end',()=>{cov_11tql6jwb().f[8]++;cov_11tql6jwb().s[11]++;return resolve(JSON.parse(items.join("")));});}).on('error',reject);});}async makeRequest({url,method,timeout}){cov_11tql6jwb().f[9]++;cov_11tql6jwb().s[12]++;return new Promise.race([this[method](url),this.raceTimeoutDelay(url,timeout)]);}}cov_11tql6jwb().s[13]++;module.exports=Request;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMTF0cWw2andiIiwiYWN0dWFsQ292ZXJhZ2UiLCJodHRwcyIsInMiLCJyZXF1aXJlIiwiUmVxdWVzdCIsImVycm9yVGltZW91dCIsInJlamVjdCIsInVybFJlcXVlc3QiLCJmIiwiRXJyb3IiLCJyYWNlVGltZW91dERlbGF5IiwidXJsIiwidGltZW91dCIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImdldCIsInJlcyIsIml0ZW1zIiwib24iLCJkYXRhIiwicHVzaCIsIkpTT04iLCJwYXJzZSIsImpvaW4iLCJtYWtlUmVxdWVzdCIsIm1ldGhvZCIsInJhY2UiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsicmVxdWVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBodHRwcyA9IHJlcXVpcmUoJ2h0dHBzJylcblxuXG5jbGFzcyBSZXF1ZXN0IHtcblxuXHRlcnJvclRpbWVvdXQgPSAocmVqZWN0LCB1cmxSZXF1ZXN0KSA9PiAoKSA9PiByZWplY3QobmV3IEVycm9yKGB0aW1lb3V0IGF0IFske3VybFJlcXVlc3R9XSA6KGApKVxuXHRcblx0cmFjZVRpbWVvdXREZWxheSh1cmwsIHRpbWVvdXQpIHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0c2V0VGltZW91dCh0aGlzLmVycm9yVGltZW91dChyZWplY3QsIHVybCksIHRpbWVvdXQpXG5cdFx0fSlcblx0fVxuXG5cdGFzeW5jIGdldCh1cmwpIHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG5cdFx0XHRodHRwcy5nZXQodXJsLCByZXMgPT4ge1xuXHRcdFx0XHRjb25zdCBpdGVtcyA9IFtdXG5cdFx0XHRcdHJlc1xuXHRcdFx0XHRcdC5vbignZGF0YScsIGRhdGEgPT4gaXRlbXMucHVzaChkYXRhKSlcblx0XHRcdFx0XHQub24oJ2VuZCcsICgpID0+IHJlc29sdmUoSlNPTi5wYXJzZShpdGVtcy5qb2luKFwiXCIpKSkpXG5cdFx0XHR9KVxuXHRcdFx0XHRcdC5vbignZXJyb3InLCByZWplY3QpXG5cdFx0fSlcblx0fVxuXG5cdGFzeW5jIG1ha2VSZXF1ZXN0KHsgdXJsLCBtZXRob2QsIHRpbWVvdXQgfSkge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZS5yYWNlKFtcblx0XHRcdHRoaXNbbWV0aG9kXSh1cmwpLFxuXHRcdFx0dGhpcy5yYWNlVGltZW91dERlbGF5KHVybCwgdGltZW91dClcblx0XHRdKVxuXHR9XG5cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBSZXF1ZXN0XG4iXSwibWFwcGluZ3MiOiJvNEZBZVk7QUFBQUEsYUFBQSxTQUFBQSxDQUFBLFNBQUFDLGNBQUEsV0FBQUEsY0FBQSxFQUFBRCxhQUFBLEdBZlosS0FBTSxDQUFBRSxLQUFLLEVBQUFGLGFBQUEsR0FBQUcsQ0FBQSxNQUFHQyxPQUFPLENBQUMsT0FBTyxDQUFDLEVBRzlCLEtBQU0sQ0FBQUMsT0FBUSxDQUViQyxZQUFZLEVBQUFOLGFBQUEsR0FBQUcsQ0FBQSxNQUFHLENBQUNJLE1BQU0sQ0FBRUMsVUFBVSxHQUFLLENBQUFSLGFBQUEsR0FBQVMsQ0FBQSxNQUFBVCxhQUFBLEdBQUFHLENBQUEsZ0JBQU0sQ0FBQUgsYUFBQSxHQUFBUyxDQUFBLE1BQUFULGFBQUEsR0FBQUcsQ0FBQSxhQUFBSSxNQUFNLENBQUMsR0FBSSxDQUFBRyxLQUFLLENBQUUsZUFBY0YsVUFBVyxNQUFLLENBQUMsQ0FBQyxDQUFELENBQUMsQ0FBRCxDQUFDLEVBRS9GRyxnQkFBZ0JBLENBQUNDLEdBQUcsQ0FBRUMsT0FBTyxDQUFFLENBQUFiLGFBQUEsR0FBQVMsQ0FBQSxNQUFBVCxhQUFBLEdBQUFHLENBQUEsTUFDOUIsTUFBTyxJQUFJLENBQUFXLE9BQU8sQ0FBQyxDQUFDQyxPQUFPLENBQUVSLE1BQU0sR0FBSyxDQUFBUCxhQUFBLEdBQUFTLENBQUEsTUFBQVQsYUFBQSxHQUFBRyxDQUFBLE1BQ3ZDYSxVQUFVLENBQUMsSUFBSSxDQUFDVixZQUFZLENBQUNDLE1BQU0sQ0FBRUssR0FBRyxDQUFDLENBQUVDLE9BQU8sQ0FBQyxDQUNwRCxDQUFDLENBQUMsQ0FDSCxDQUVBLEtBQU0sQ0FBQUksR0FBR0EsQ0FBQ0wsR0FBRyxDQUFFLENBQUFaLGFBQUEsR0FBQVMsQ0FBQSxNQUFBVCxhQUFBLEdBQUFHLENBQUEsTUFDZCxNQUFPLElBQUksQ0FBQVcsT0FBTyxDQUFDLENBQUNDLE9BQU8sQ0FBRVIsTUFBTSxHQUFLLENBQUFQLGFBQUEsR0FBQVMsQ0FBQSxNQUFBVCxhQUFBLEdBQUFHLENBQUEsTUFFdkNELEtBQUssQ0FBQ2UsR0FBRyxDQUFDTCxHQUFHLENBQUVNLEdBQUcsRUFBSSxDQUFBbEIsYUFBQSxHQUFBUyxDQUFBLE1BQ3JCLEtBQU0sQ0FBQVUsS0FBSyxFQUFBbkIsYUFBQSxHQUFBRyxDQUFBLE1BQUcsRUFBRSxFQUFBSCxhQUFBLEdBQUFHLENBQUEsTUFDaEJlLEdBQUcsQ0FDREUsRUFBRSxDQUFDLE1BQU0sQ0FBRUMsSUFBSSxFQUFJLENBQUFyQixhQUFBLEdBQUFTLENBQUEsTUFBQVQsYUFBQSxHQUFBRyxDQUFBLGNBQUFnQixLQUFLLENBQUNHLElBQUksQ0FBQ0QsSUFBSSxDQUFDLENBQUQsQ0FBQyxDQUFDLENBQ3BDRCxFQUFFLENBQUMsS0FBSyxDQUFFLElBQU0sQ0FBQXBCLGFBQUEsR0FBQVMsQ0FBQSxNQUFBVCxhQUFBLEdBQUFHLENBQUEsY0FBQVksT0FBTyxDQUFDUSxJQUFJLENBQUNDLEtBQUssQ0FBQ0wsS0FBSyxDQUFDTSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFELENBQUMsQ0FBQyxDQUN2RCxDQUFDLENBQUMsQ0FDQ0wsRUFBRSxDQUFDLE9BQU8sQ0FBRWIsTUFBTSxDQUFDLENBQ3ZCLENBQUMsQ0FBQyxDQUNILENBRUEsS0FBTSxDQUFBbUIsV0FBV0EsQ0FBQyxDQUFFZCxHQUFHLENBQUVlLE1BQU0sQ0FBRWQsT0FBUSxDQUFDLENBQUUsQ0FBQWIsYUFBQSxHQUFBUyxDQUFBLE1BQUFULGFBQUEsR0FBQUcsQ0FBQSxPQUMzQyxNQUFPLElBQUksQ0FBQVcsT0FBTyxDQUFDYyxJQUFJLENBQUMsQ0FDdkIsSUFBSSxDQUFDRCxNQUFNLENBQUMsQ0FBQ2YsR0FBRyxDQUFDLENBQ2pCLElBQUksQ0FBQ0QsZ0JBQWdCLENBQUNDLEdBQUcsQ0FBRUMsT0FBTyxDQUFDLENBQ25DLENBQUMsQ0FDSCxDQUVELENBQUNiLGFBQUEsR0FBQUcsQ0FBQSxPQUVEMEIsTUFBTSxDQUFDQyxPQUFPLENBQUd6QixPQUFPIn0=